<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<style type="text/css">
    * {
        margin: 0;
        padding: 0;
        list-style-type: none;
    }

    a,
    img {
        border: 0;
        text-decoration: none;
    }
    body {
        font: 12px/180% Arial, Helvetica, sans-serif, "新宋体";
    }
</style>
<link rel="stylesheet" type="text/css" href="../css/sdmenu.css" />

<script type="text/javascript" src="../js/tools.js"></script>
<script>
    window.onload = function () {
        let spanMenu = document.querySelectorAll('.menuSpan');
         let openDiv = spanMenu[0].parentNode;//这个时候写死了, 怎么动态改变???********(1)
        //  点谁    opendiv就是谁??********(2)
        for (let index = 0; index < spanMenu.length; index++) {
            spanMenu[index].onclick = function () {
              
                let parDiv = spanMenu[index].parentNode;
                
                toggleClass(parDiv, 'collapsed');
                //打开菜单以后,应该关闭之前打开的菜单
                //打开的同时应该关闭
                //测试,比如点开第一个,一上来没有cla,这个时候两两相等,样式添加上    
                //    下一次,因为已经有了样式,打开(移除样式)之后立即折叠(添加样式),所以应该加个判断,当同一个的时候,不需要加样式
                if(parDiv!==openDiv){//********(3)
                    addClass(openDiv, 'collapsed')
                }
                //修改div   为当前打开的菜单
                openDiv = parDiv;//********(2)
                
            }
        }
    }
</script>

<body>
    <div id="my_menu" class="sdmenu">
        <div>
            <span class="menuSpan">在线工具</span>
            <a href="#">图像优化</a>
            <a href="#">收藏夹图标生成器</a>
            <a href="#">邮件</a>
            <a href="#">htaccess密码</a>
            <a href="#">梯度图像</a>
            <a href="#">按钮生成器</a>
        </div>
        <div class="collapsed">
            <span class="menuSpan">支持我们</span>
            <a href="#">推荐我们</a>
            <a href="#">链接我们</a>
            <a href="#">网络资源</a>
        </div>
        <div class="collapsed">
            <span class="menuSpan">合作伙伴</span>
            <a href="#">JavaScript工具包</a>
            <a href="#">CSS驱动</a>
            <a href="#">CodingForums</a>
            <a href="#">CSS例子</a>
        </div>
        <div class="collapsed">
            <span class="menuSpan">测试电流</span>
            <a href="#">Current or not</a>
            <a href="#">Current or not</a>
            <a href="#">Current or not</a>
            <a href="#">Current or not</a>
        </div>
    </div>
</body>

</html>